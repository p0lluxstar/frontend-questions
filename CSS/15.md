## Порядок наложения элементов в CSS (Stacking Order)?

Порядок наложения элементов в CSS, или Stacking Order, определяет, как элементы отображаются друг над другом, когда они перекрываются. Этот порядок определяется рядом правил и свойств, таких как `z-index`, позиционирование и порядок в документе.

### Основные правила порядка наложения (Stacking Order):

1. **Элементы с нулевым или отсутствующим `z-index`**:
   - По умолчанию элементы с `position: static` (или `position: relative`, но без `z-index`) имеют `z-index: auto`, что означает, что они следуют порядку, в котором они появляются в HTML-документе. Элемент, который идет позже в документе, будет расположен выше.

2. **Контекст наложения**:
   - Когда элемент имеет позиционирование (например, `relative`, `absolute`, `fixed` или `sticky`) и `z-index`, отличное от `auto`, он создает новый контекст наложения. Все дочерние элементы этого элемента будут находиться в пределах этого контекста и будут соперничать между собой на основе их значений `z-index`.

3. **Сравнение `z-index`**:
   - Если два элемента имеют разные контексты наложения, `z-index` элементов в родительском контексте не влияет на порядок дочерних элементов. Вместо этого контексты сравниваются по их `z-index` в родительском контексте.

4. **Специальные свойства**:
   - Элементы с определёнными свойствами, такими как `opacity < 1`, `transform`, `filter`, и другими, могут также создать новый контекст наложения.

### Правила определения порядка наложения

Порядок наложения элементов можно понять через следующие шаги:

1. **Фоновый порядок**: Все элементы по умолчанию имеют порядок наложения на основе их появления в HTML.
2. **Позиционирование**: Элементы с `position: relative`, `absolute`, `fixed` или `sticky`, которые имеют определённый `z-index`, образуют новый контекст наложения.
3. **Сравнение `z-index`**: При наличии нескольких элементов в одном контексте наложения, элементы с большим значением `z-index` будут расположены выше.
4. **Обработка контекстов**: Если два элемента находятся в разных контекстах наложения, их `z-index` не будет сопоставляться с элементами в другом контексте. Вместо этого будет сравниваться их порядок создания контекста наложения.

### Пример

```html
<div class="container" style="position: relative; z-index: 1;">
    <div class="child1" style="position: absolute; z-index: 2;">Child 1</div>
    <div class="child2" style="position: absolute; z-index: 1;">Child 2</div>
</div>
<div class="other" style="position: relative; z-index: 0;">Other</div>
```

- В этом примере `Child 1` будет отображаться выше `Child 2` из-за большего значения `z-index`.
- Если `Other` имеет `z-index: 0`, то он будет под `container`, но выше `Child 2` (если бы у `Child 2` не было своего `z-index`).

### Заключение

Понимание порядка наложения в CSS критически важно для правильного отображения элементов на странице. Это позволяет создавать сложные макеты с перекрывающимися элементами и контролировать их видимость и порядок на экране.