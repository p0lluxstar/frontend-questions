## Что такое специфичность селектора? Как считать вес селектора?

**Специфичность селектора** — это механизм, по которому браузер определяет, какие стили применить к элементу, когда несколько правил могут соответствовать одному и тому же элементу. Каждый селектор имеет свой "вес" или уровень специфичности, который помогает браузеру решить, какой стиль применять в случае конфликта.

### Как считается вес селектора

Вес селектора определяется на основе следующих критериев:

1. **Inline стили** (например, стили, добавленные непосредственно в HTML через атрибут `style`) имеют максимальный вес. Они всегда имеют специфичность 1000.

2. **ID селекторы** имеют вес 100. Это означает, что каждый ID селектор добавляет 100 к общему весу.

3. **Класс селекторы**, **атрибутные селекторы** и **псевдоклассы** имеют вес 10. Каждый такой селектор добавляет 10 к общему весу.

4. **Тег селекторы** и **псевдоэлементы** имеют вес 1. Каждый такой селектор добавляет 1 к общему весу.

### Формула расчета специфичности

Специфичность может быть представлена в виде четырехзначного числа:

- Первый разряд: Inline стили (1000)
- Второй разряд: ID селекторы (100)
- Третий разряд: Класс селекторы, атрибуты, псевдоклассы (10)
- Четвертый разряд: Тег селекторы, псевдоэлементы (1)

Таким образом, вес селектора можно представить как `a-b-c-d`, где:
- `a` — количество inline стилей
- `b` — количество ID селекторов
- `c` — количество классов, атрибутов и псевдоклассов
- `d` — количество тегов и псевдоэлементов

### Пример расчета специфичности

Рассмотрим следующие селекторы и их специфичность:

1. `div` — вес 0-0-0-1
2. `.class` — вес 0-0-1-0
3. `#id` — вес 0-1-0-0
4. `div.class` — вес 0-0-1-1
5. `#id .class` — вес 0-1-1-0
6. `#id div.class` — вес 0-1-1-1
7. `style="color: red;"` — вес 1-0-0-0 (inline стиль)

### Как определить, какой стиль применяется

Когда два селектора конфликтуют, браузер сравнивает их веса:

- Если вес одного селектора больше, то он применяется.
- Если веса равны, то последний определенный стиль в коде имеет приоритет.

### Пример

```css
/* Определение стилей */
div {
    color: blue; /* вес: 0-0-0-1 */
}

.class {
    color: green; /* вес: 0-0-1-0 */
}

#id {
    color: red; /* вес: 0-1-0-0 */
}

<div class="class" id="id">Привет</div>
```

В данном случае текст будет красным, потому что ID селектор имеет больший вес (100) по сравнению с классом (10) и тегом (1).

### Заключение

Специфичность селекторов — это важный аспект работы с CSS, который помогает контролировать, какие стили применяются к элементам. Понимание специфичности помогает избежать проблем с наложением стилей и делает код более управляемым и предсказуемым.