## Что такое утечки памяти основные типы утечки памяти?

Утечки памяти в JavaScript происходят, когда программа удерживает ссылки на объекты, которые больше не нужны, что препятствует сборщику мусора освобождать память. Это может привести к увеличению использования памяти и, в конечном итоге, к снижению производительности приложения. Вот основные типы утечек памяти:

### 1. **Утечки из-за замыканий**

Когда функция сохраняет ссылку на переменные из внешней функции, это создаёт замыкание. Если эти ссылки не удаляются, даже после того, как внешняя функция завершила выполнение, переменные остаются в памяти.

**Пример**:
```javascript
function createCounter() {
    let count = 0;
    return function() {
        count++;
        return count;
    };
}

const counter = createCounter(); // count остаётся в памяти, пока есть ссылка на counter
```

### 2. **Утечки из-за глобальных переменных**

Глобальные переменные могут оставаться в памяти дольше, чем необходимо, особенно если на них есть ссылки из других частей кода. Это может произойти, если неявно объявляются переменные (без использования `var`, `let` или `const`).

**Пример**:
```javascript
function leakGlobal() {
    leakedVar = 'This is a global variable'; // Утечка памяти
}
leakGlobal();
```

### 3. **Утечки из-за ссылок на DOM-элементы**

Если вы сохраняете ссылки на DOM-элементы и не удаляете их после завершения работы с ними, это может привести к утечкам памяти, особенно если элементы были удалены из DOM, но ссылки на них все еще существуют.

**Пример**:
```javascript
let element = document.getElementById('myElement');
element.onclick = function() {
    // Делаем что-то с элементом
};
// Если element удаляется из DOM, но ссылка на него сохраняется, это может привести к утечке
```

### 4. **Утечки из-за слушателей событий**

Если вы добавляете слушатели событий к элементам и не удаляете их после завершения работы, это может привести к утечкам памяти. Слушатель сохраняет ссылку на элемент, и если элемент будет удалён из DOM, но слушатель останется, это может привести к утечке.

**Пример**:
```javascript
const button = document.getElementById('myButton');

function handleClick() {
    console.log('Clicked!');
}

button.addEventListener('click', handleClick);
// Если не удалить слушатель перед удалением button, это приведёт к утечке памяти
```

### 5. **Циклические ссылки**

Циклические ссылки возникают, когда два объекта ссылаются друг на друга, создавая замыкание. Сборщик мусора не может освободить память, если объекты всё еще имеют ссылки друг на друга.

**Пример**:
```javascript
function createCycle() {
    const obj1 = {};
    const obj2 = {};
    
    obj1.other = obj2;
    obj2.other = obj1; // Циклическая ссылка
}
createCycle();
```

### Как избежать утечек памяти:

1. **Удаляйте ссылки**: Убедитесь, что вы устанавливаете ссылки на `null`, когда они больше не нужны.
2. **Удаляйте слушатели событий**: Всегда удаляйте слушатели событий, когда они больше не нужны.
3. **Избегайте глобальных переменных**: Старайтесь минимизировать использование глобальных переменных.
4. **Используйте инструменты профилирования**: Многие браузеры имеют инструменты для профилирования, которые могут помочь вам выявить утечки памяти.

Обращая внимание на эти аспекты, вы сможете существенно снизить риск утечек памяти в ваших JavaScript-приложениях.