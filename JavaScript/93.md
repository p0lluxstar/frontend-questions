## Циклы while, do while, for in, for of?

В JavaScript существуют несколько типов циклов, которые помогают повторно выполнять блоки кода. Рассмотрим четыре распространённых типа циклов: **`while`**, **`do...while`**,**`for...in`**, и **`for...of`**.

### 1. **Цикл `while`**
Цикл `while` выполняет блок кода, пока условие остается истинным.

#### Синтаксис:
```javascript
while (условие) {
  // Блок кода, который выполняется, пока условие истинно
}
```

- **Условие** проверяется перед каждым выполнением блока кода.
- Если условие ложное с самого начала, тело цикла не выполняется.

#### Пример:
```javascript
let i = 0;

while (i < 5) {
  console.log(i);
  i++;
}

// Вывод:
// 0
// 1
// 2
// 3
// 4
```

### 2. **Цикл `do...while`**
Цикл `do...while` похож на `while`, но с одним важным отличием: условие проверяется **после** выполнения тела цикла. Это означает, что блок кода выполняется хотя бы один раз, даже если условие изначально ложное.

#### Синтаксис:
```javascript
do {
  // Блок кода, который выполняется хотя бы один раз
} while (условие);
```

- Блок кода всегда выполняется хотя бы один раз, а затем проверяется условие.
- Если условие ложное, выполнение цикла прекращается.

#### Пример:
```javascript
let i = 0;

do {
  console.log(i);
  i++;
} while (i < 5);

// Вывод:
// 0
// 1
// 2
// 3
// 4
```

### 3. **Цикл `for...in`**
Цикл `for...in` используется для перебора **свойств** объекта или элементов массива (индексов массива).

#### Синтаксис:
```javascript
for (let variable in object) {
  // Блок кода
}
```

- Этот цикл перебирает **собственные перечисляемые свойства** объекта (или индексы массива).
- В переменной `variable` будет храниться название свойства или индекс массива на каждой итерации.

#### Пример с объектом:
```javascript
const person = {
  name: "Alice",
  age: 30,
  city: "Wonderland"
};

for (let key in person) {
  console.log(key + ": " + person[key]);
}

// Вывод:
// name: Alice
// age: 30
// city: Wonderland
```

#### Пример с массивом:
```javascript
const arr = ["apple", "banana", "cherry"];

for (let index in arr) {
  console.log(index + ": " + arr[index]);
}

// Вывод:
// 0: apple
// 1: banana
// 2: cherry
```

### 4. **Цикл `for...of`**
Цикл `for...of` используется для перебора **значений** в итерируемых объектах, таких как массивы, строки, Set, Map и другие. В отличие от `for...in`, который перебирает ключи, `for...of` перебирает сами элементы.

#### Синтаксис:
```javascript
for (let variable of iterable) {
  // Блок кода
}
```

- Этот цикл перебирает **значения** коллекции (например, элементы массива или символы строки), а не индексы или свойства.
- Может использоваться для любых объектов, которые поддерживают итерацию.

#### Пример с массивом:
```javascript
const arr = ["apple", "banana", "cherry"];

for (let fruit of arr) {
  console.log(fruit);
}

// Вывод:
// apple
// banana
// cherry
```

#### Пример со строкой:
```javascript
const str = "hello";

for (let char of str) {
  console.log(char);
}

// Вывод:
// h
// e
// l
// l
// o
```

#### Пример с Set:
```javascript
const set = new Set([1, 2, 3, 4]);

for (let value of set) {
  console.log(value);
}

// Вывод:
// 1
// 2
// 3
// 4
```

#### Пример с обычным объектом (ошибка):

```javascript
const obj = { a: 1, b: 2, c: 3 };

for (const value of obj) {
    console.log(value); // Ошибка: obj is not iterable
}
```

Чтобы использовать `for...of` с объектом, его нужно сначала сделать итерируемым.

---

### Способы использования `for...of` с объектами:

#### 1. **Перебор свойств объекта через `Object.entries`**

`Object.entries` возвращает массив пар `[ключ, значение]`, который можно использовать с `for...of`.

```javascript
const obj = { a: 1, b: 2, c: 3 };

for (const [key, value] of Object.entries(obj)) {
    console.log(`Key: ${key}, Value: ${value}`);
}
// Вывод:
// Key: a, Value: 1
// Key: b, Value: 2
// Key: c, Value: 3
```

---

#### 2. **Перебор только ключей через `Object.keys`**

`Object.keys` возвращает массив ключей объекта.

```javascript
const obj = { a: 1, b: 2, c: 3 };

for (const key of Object.keys(obj)) {
    console.log(`Key: ${key}`);
}
// Вывод:
// Key: a
// Key: b
// Key: c
```

---

#### 3. **Перебор только значений через `Object.values`**

`Object.values` возвращает массив значений объекта.

```javascript
const obj = { a: 1, b: 2, c: 3 };

for (const value of Object.values(obj)) {
    console.log(`Value: ${value}`);
}
// Вывод:
// Value: 1
// Value: 2
// Value: 3
```

---

#### 4. **Сделать объект итерируемым вручную**

Если вы хотите сделать обычный объект (`{}`) итерируемым, можно добавить в него метод `Symbol.iterator`.

Итерируемый объект в JavaScript — это объект, который реализует метод Symbol.iterator, возвращающий итератор, позволяющий проходить по его элементам с помощью цикла for...of или других конструкций, работающих с итераторами.

```javascript
const obj = {
    a: 1,
    b: 2,
    c: 3,
    [Symbol.iterator]: function* () {
        for (const key in this) {
            if (this.hasOwnProperty(key)) {
                yield [key, this[key]];
            }
        }
    }
};

for (const [key, value] of obj) {
    console.log(`Key: ${key}, Value: ${value}`);
}
// Вывод:
// Key: a, Value: 1
// Key: b, Value: 2
// Key: c, Value: 3
```

### Сравнение всех четырёх циклов:

| **Цикл**        | **Проверка условия** | **Что перебирается**             | **Когда выполняется код**                  | **Когда использовать**                     |
|-----------------|----------------------|----------------------------------|-------------------------------------------|-------------------------------------------|
| `while`         | Перед выполнением    | Условие                          | Пока условие истинно                     | Когда количество итераций заранее не известно, но есть условие |
| `do...while`    | После выполнения     | Условие                          | Хотя бы один раз, затем проверяется условие | Когда нужно выполнить код хотя бы один раз, даже если условие ложно |
| `for...in`      | Не проверяется       | Свойства объекта или индексы массива | Для перебора свойств объектов или индексов массива | Для перебора свойств объекта или элементов массива (индексов) |
| `for...of`      | Не проверяется       | Значения в итерируемом объекте   | Для перебора значений коллекций (массивы, строки, Set, Map и другие) | Когда нужно перебрать значения итерируемого объекта |

### Когда использовать каждый цикл:
- **`while`** — когда количество итераций не известно заранее, но условие для продолжения известно.
- **`do...while`** — когда цикл должен выполниться хотя бы один раз, даже если условие ложно.
- **`for...in`** — для перебора свойств объектов или индексов массивов. Однако, для массивов лучше использовать `for`, так как `for...in` может также перебирать дополнительные методы массива.
- **`for...of`** — для перебора значений в итерируемых объектах (массивы, строки, Set, Map и другие). Это лучший выбор, если вам нужны элементы коллекции, а не индексы или ключи.