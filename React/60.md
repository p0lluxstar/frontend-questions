## Каково назначение _app.js и _document.js в Next.js?

В Next.js файлы `_app.js` и `_document.js` выполняют разные, но важные функции для настройки и управления вашим приложением. Давайте рассмотрим их назначение подробнее.

### 1. `_app.js`

**Назначение**:
Файл `_app.js` используется для переопределения компонента приложения, который оборачивает все страницы вашего приложения. Он позволяет вам настраивать уровень общего состояния и эффектов для всех страниц, таких как глобальные стили, контексты, и другие компоненты, которые должны быть доступны на всех страницах.

**Ключевые аспекты**:
- **Переопределение компонента приложения**: Позволяет вам обернуть все страницы вашего приложения в один общий компонент.
- **Глобальные стили**: Можно импортировать глобальные стили или CSS-фреймворки.
- **Глобальное состояние**: Можно использовать контексты React, Redux или другие методы управления состоянием, чтобы обеспечить доступ к данным на всех страницах.
- **Перехват переходов между страницами**: Вы можете обрабатывать или изменять поведение при переходе между страницами.

**Пример использования**:
```javascript
// pages/_app.js
import '../styles/globals.css'; // Импорт глобальных стилей

function MyApp({ Component, pageProps }) {
    return <Component {...pageProps} />; // Рендеринг текущей страницы
}

export default MyApp;
```

### 2. `_document.js`

**Назначение**:
Файл `_document.js` используется для настройки HTML-документа вашего приложения. В отличие от `_app.js`, который отвечает за уровень React-компонентов, `_document.js` позволяет вам настраивать и управлять самим HTML-документом, включая элементы, такие как `<head>` и `<body>`.

**Ключевые аспекты**:
- **Настройка `<html>` и `<body>`**: Вы можете изменять атрибуты этих тегов, например, добавлять классы или устанавливать языковые атрибуты.
- **Добавление мета-тегов и стилей**: Можно добавлять пользовательские мета-теги, шрифты и другие ресурсы, которые должны быть загружены на всех страницах.
- **Интеграция с библиотеками**: Удобно использовать для интеграции с библиотеками, которые требуют настройки на уровне HTML (например, сторонние шрифты или аналитика).

**Пример использования**:
```javascript
// pages/_document.js
import Document, { Html, Head, Main, NextScript } from 'next/document';

class MyDocument extends Document {
    render() {
        return (
            <Html lang="en">
                <Head>
                    <link rel="stylesheet" href="https://example.com/style.css" /> {/* Пример подключения стиля */}
                </Head>
                <body>
                    <Main /> {/* Рендеринг страницы */}
                    <NextScript /> {/* Скрипты Next.js */}
                </body>
            </Html>
        );
    }
}

export default MyDocument;
```

### Заключение

- **`_app.js`**: Используется для настройки компонента приложения и управления общими состояниями и стилями на уровне React.
- **`_document.js`**: Позволяет настраивать HTML-документ, включая теги `<head>` и `<body>`, для всех страниц приложения.

Используя оба файла, вы можете настроить свое приложение Next.js в соответствии с вашими требованиями и улучшить управление стилями и состояниями.