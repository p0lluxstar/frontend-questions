## Что такое модули в TypeScript?

Модули в TypeScript — это способ организовать код в отдельные файлы, которые могут экспортировать и импортировать элементы (функции, классы, интерфейсы, переменные и т.д.) для использования в других частях программы. Это позволяет улучшить структуру кода, обеспечить его повторное использование и избежать конфликтов имен.

### Основные аспекты модулей в TypeScript

1. **Экспорт (Export)**: Чтобы сделать элемент доступным для использования в другом файле, его нужно экспортировать. В TypeScript есть два типа экспорта:
    - **Именованный экспорт (Named export)**: экспортирует несколько элементов из файла.
    - **Экспорт по умолчанию (Default export)**: экспортирует один элемент как основной экспорт.

2. **Импорт (Import)**: Чтобы использовать элемент, экспортированный из другого модуля, его нужно импортировать.

### Пример использования модулей

#### 1. **Именованный экспорт (Named Export)**

```typescript
// math.ts — модуль, экспортирующий несколько элементов

export function add(x: number, y: number): number {
  return x + y;
}

export function subtract(x: number, y: number): number {
  return x - y;
}
```

Для использования этих функций в другом файле их нужно импортировать:

```typescript
// main.ts — импорт элементов из модуля math

import { add, subtract } from './math';

console.log(add(5, 3));        // 8
console.log(subtract(5, 3));   // 2
```

#### 2. **Экспорт по умолчанию (Default Export)**

```typescript
// logger.ts — модуль, экспортирующий один элемент по умолчанию

export default function log(message: string): void {
  console.log(message);
}
```

При импорте модуля с экспортом по умолчанию можно выбрать любое имя для импортируемого элемента:

```typescript
// main.ts — импорт элемента, экспортированного по умолчанию

import log from './logger';

log('Привет, TypeScript!');  // Привет, TypeScript!
```

#### 3. **Комбинированный экспорт**

Можно комбинировать именованный экспорт и экспорт по умолчанию в одном файле:

```typescript
// utils.ts — экспорт как по умолчанию, так и именованный

export function greet(name: string): void {
  console.log(`Привет, ${name}!`);
}

export default function defaultGreet(): void {
  console.log('Привет, мир!');
}
```

При импорте можно использовать и именованные, и экспортированные по умолчанию элементы:

```typescript
// main.ts — комбинированный импорт

import defaultGreet, { greet } from './utils';

defaultGreet();   // Привет, мир!
greet('Алиса');   // Привет, Алиса!
```

### Виды модулей

TypeScript поддерживает два стандарта модулей:

1. **CommonJS**: используется в Node.js. Экспорт и импорт в формате `module.exports` и `require`.
2. **ES Modules (ESM)**: стандарт ECMAScript для модулей, используется в браузерах и современных проектах. В TypeScript используются ключевые слова `export` и `import`.

### Разделение модулей и глобальной области видимости

В TypeScript каждый файл с явными операциями импорта или экспорта считается модулем, и его содержимое имеет собственную область видимости. Это предотвращает конфликты имен при использовании разных модулей, так как каждая переменная или функция, объявленная внутри модуля, по умолчанию является локальной для этого модуля.

### Пример применения модулей для разделения логики

1. **Файл `math.ts`**:

```typescript
export function multiply(a: number, b: number): number {
  return a * b;
}
```

2. **Файл `geometry.ts`**:

```typescript
import { multiply } from './math';

export function areaOfRectangle(width: number, height: number): number {
  return multiply(width, height);
}
```

3. **Файл `main.ts`**:

```typescript
import { areaOfRectangle } from './geometry';

console.log(areaOfRectangle(5, 10));  // 50
```

### Заключение

Модули в TypeScript помогают организовать код, делая его более структурированным и управляемым. С их помощью можно разделять логику программы на независимые части, избегать конфликтов имен и легко повторно использовать код в разных частях проекта.